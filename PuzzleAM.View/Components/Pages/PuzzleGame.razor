@page "/puzzlegame"
@rendermode InteractiveServer

<PageTitle>Puzzle Game</PageTitle>

<InputFile OnChange="OnInputFileChange" class="btn btn-primary" />

@if (!string.IsNullOrEmpty(imageDataUrl))
{
    <div style="margin-top:1rem;border:1px solid #ccc;width:400px;height:400px;display:flex;align-items:center;justify-content:center;">
        <img src="@imageDataUrl" alt="Uploaded image" style="max-width:100%;max-height:100%;" />
    </div>
}

@code {
    private string? imageDataUrl;

    private async Task OnInputFileChange(InputFileChangeEventArgs e)
    {
        var file = e.File;
        var buffer = new byte[file.Size];
        await file.OpenReadStream(10 * 1024 * 1024).ReadAsync(buffer); // limit 10 MB
        imageDataUrl = $"data:{file.ContentType};base64,{Convert.ToBase64String(buffer)}";
    }
}
