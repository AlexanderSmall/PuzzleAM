@page "/"
@page "/puzzlegame"
@rendermode InteractiveServer

<PageTitle>Puzzle Game</PageTitle>

<div class="mb-3">
    <button class="btn btn-success me-2" @onclick="CreateRoom" disabled="@(!IsConnected)">Create Room</button>
    @if (!string.IsNullOrEmpty(roomCode))
    {
        <span>Room Code: @roomCode</span>
    }
</div>

<div class="mb-3">
    <input class="form-control w-auto d-inline" @bind="joinCode" placeholder="Enter room code" />
    <button class="btn btn-primary ms-2" @onclick="JoinRoom" disabled="@(!IsConnected)">Join Room</button>
</div>

<div class="mb-3">Connection Status: @connectionStatus</div>

<div class="d-flex align-items-center gap-2 mb-3">
    <select @bind="selectedPieces" class="form-select w-auto">
        @foreach (var option in PieceOptions)
        {
            <option value="@option">@option</option>
        }
    </select>

    <InputFile OnChange="OnInputFileChange" class="btn btn-primary" />

    <select @bind="selectedBackground" @bind:after="OnBackgroundChange" class="form-select w-auto">
        <option value="#EFECE6">#EFECE6</option>
        <option value="#E7F1DC">#E7F1DC</option>
        <option value="#C8D2C5">#C8D2C5</option>
    </select>
</div>

<div id="puzzleContainer"></div>
